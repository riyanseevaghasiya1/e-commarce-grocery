<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BoroBazar - Login System</title>
    <link rel="stylesheet" href="./css/login.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="auth-container">
        <!-- Left Section with Image -->
        <div class="left-section">
            <img src="../images/loginimage.png" alt="Fresh vegetables and meat">
        </div>

        <!-- Right Section with Forms -->
        <div class="right-section">
            <div class="form-container">
                <!-- Logo -->
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-shopping-bag"></i>
                    </div>
                    <span class="logo-text">BoroBazar</span>
                </div>

                <!-- Login Page -->
                <div id="loginPage" class="page active">
                    <h1 class="page-title">Welcome Back, Get Login</h1>
                    <p class="page-subtitle">Join us anytime. Don't have an account? <a href="#" onclick="showPage('registerPage')">Create account</a></p>

                    <div class="success-message" id="loginSuccessMsg"></div>

                    <form id="loginForm" onsubmit="handleLogin(event)">
                        <div class="form-group">
                            <label class="form-label">Username or email address <span class="required">*</span></label>
                            <input type="text" class="form-input" id="loginEmail" placeholder="riyanseev123@gmail.com">
                            <div class="error-message" id="loginEmailError"></div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Password <span class="required">*</span></label>
                            <div class="input-wrapper">
                                <input type="password" class="form-input" id="loginPassword">
                                <i class="fas fa-eye password-toggle" onclick="togglePassword('loginPassword', this)"></i>
                            </div>
                            <div class="error-message" id="loginPasswordError"></div>
                        </div>

                        <div class="checkbox-wrapper">
                            <label class="checkbox-label">
                                <input type="checkbox" id="rememberMe">
                                <span>Remember me</span>
                            </label>
                            <a href="#" class="forgot-link" onclick="showPage('forgotPage')">Lost your password?</a>
                        </div>

                        <button type="submit" class="btn-primary">Log in</button>
                    </form>

                    <!-- <div class="divider">Or</div>

                    <button class="btn-secondary">
                        <i class="fas fa-phone"></i>
                        Continue with Phone
                    </button> -->
                </div>

                <!-- Register Page -->
                <div id="registerPage" class="page">
                    <h1 class="page-title">Create Your Account</h1>
                    <p class="page-subtitle">Join us today. Already have an account? <a href="#" onclick="showPage('loginPage')">Login here</a></p>

                    <div class="success-message" id="registerSuccessMsg"></div>

                    <form id="registerForm" onsubmit="handleRegister(event)">
                        <div class="form-group">
                            <label class="form-label">Full Name <span class="required">*</span></label>
                            <input type="text" class="form-input" id="registerName" placeholder="Enter your full name">
                            <div class="error-message" id="registerNameError"></div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Email address <span class="required">*</span></label>
                            <input type="email" class="form-input" id="registerEmail" placeholder="your@email.com">
                            <div class="error-message" id="registerEmailError"></div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Password <span class="required">*</span></label>
                            <div class="input-wrapper">
                                <input type="password" class="form-input" id="registerPassword" placeholder="Minimum 8 characters">
                                <i class="fas fa-eye password-toggle" onclick="togglePassword('registerPassword', this)"></i>
                            </div>
                            <div class="error-message" id="registerPasswordError"></div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Confirm Password <span class="required">*</span></label>
                            <div class="input-wrapper">
                                <input type="password" class="form-input" id="registerConfirmPassword" placeholder="Re-enter password">
                                <i class="fas fa-eye password-toggle" onclick="togglePassword('registerConfirmPassword', this)"></i>
                            </div>
                            <div class="error-message" id="registerConfirmPasswordError"></div>
                        </div>

                        <div class="checkbox-wrapper" style="justify-content: flex-start; margin-bottom: 0.5rem;">
                            <label class="checkbox-label">
                                <input type="checkbox" id="agreeTerms">
                                <span>I agree to the Terms & Conditions</span>
                            </label>
                        </div>
                        <div class="error-message" id="termsError" style="margin-bottom: 1.5rem;"></div>

                        <button type="submit" class="btn-primary">Create Account</button>
                    </form>

                    <!-- <div class="divider">Or</div>

                    <button class="btn-secondary">
                        <i class="fas fa-phone"></i>
                        Continue with Phone
                    </button> -->
                </div>

                <!-- Forgot Password Page -->
                <div id="forgotPage" class="page">
                    <h1 class="page-title">Forgot Password?</h1>
                    <p class="page-subtitle">Enter your email to receive reset instructions. <a href="#" onclick="showPage('loginPage')">Back to login</a></p>

                    <div class="success-message" id="forgotSuccessMsg"></div>

                    <form id="forgotForm" onsubmit="handleForgotPassword(event)">
                        <div class="form-group">
                            <label class="form-label">Email address <span class="required">*</span></label>
                            <input type="email" class="form-input" id="forgotEmail" placeholder="your@email.com">
                            <div class="error-message" id="forgotEmailError"></div>
                        </div>

                        <button type="submit" class="btn-primary">Send Reset Link</button>
                    </form>

                    <div class="divider">Or</div>

                    <button class="btn-secondary" onclick="showPage('loginPage')">
                        <i class="fas fa-arrow-left"></i>
                        Back to Login
                    </button>
                </div>

                <!-- OTP Verification Page -->
                <div id="otpPage" class="page">
                    <h1 class="page-title">Verify Your Email</h1>
                    <p class="page-subtitle">Enter the 6-digit code sent to <span id="otpEmail" style="font-weight: 600;"></span></p>

                    <div class="success-message" id="otpSuccessMsg"></div>

                    <form id="otpForm" onsubmit="handleOTPVerify(event)">
                        <div class="otp-inputs">
                            <input type="text" class="otp-input" maxlength="1" id="otp1" oninput="handleOTPInput(event, 'otp1')" onkeydown="handleOTPKeydown(event, 'otp1')">
                            <input type="text" class="otp-input" maxlength="1" id="otp2" oninput="handleOTPInput(event, 'otp2')" onkeydown="handleOTPKeydown(event, 'otp2')">
                            <input type="text" class="otp-input" maxlength="1" id="otp3" oninput="handleOTPInput(event, 'otp3')" onkeydown="handleOTPKeydown(event, 'otp3')">
                            <input type="text" class="otp-input" maxlength="1" id="otp4" oninput="handleOTPInput(event, 'otp4')" onkeydown="handleOTPKeydown(event, 'otp4')">
                            <input type="text" class="otp-input" maxlength="1" id="otp5" oninput="handleOTPInput(event, 'otp5')" onkeydown="handleOTPKeydown(event, 'otp5')">
                            <input type="text" class="otp-input" maxlength="1" id="otp6" oninput="handleOTPInput(event, 'otp6')" onkeydown="handleOTPKeydown(event, 'otp6')">
                        </div>
                        <div class="error-message" id="otpError" style="text-align: center;"></div>

                        <button type="submit" class="btn-primary">Verify Code</button>
                    </form>

                    <div class="resend-text">
                        Didn't receive code? <span class="resend-link" onclick="resendOTP()">Resend</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="./js/login.js"></script>
</body>
</html>